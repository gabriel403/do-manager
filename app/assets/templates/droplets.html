<p><a href="#/droplets/new" role="button" class="btn btn-info">Create Droplet</a></p>
<div class="well" ng-repeat="droplet in droplets">
  <div class="clearfix row">
    <div class="col-md-8">
      <h4>
        {{droplet.name}}
      </h4>
      <div>
        Using image <strong>{{droplet.image.name}}</strong> built from distribution <strong>{{droplet.image.distribution}}</strong> running kernel {{droplet.kernel.name}}
      </div>
      <div>
        Hosted in <strong>{{droplet.region.name}}</strong> using a <strong>{{droplet.disk}}GB</strong> SSD & <strong>{{droplet.memory}}MB</strong> of RAM
      </div>
      <div>
        Networks:<br>
        <div ng-repeat="(type,networks) in droplet.networks">
          ip{{type}}<br>
          <span ng-if="networks.length==0">No networks assigned</span>
          <ol>
            <li ng-repeat="network in networks">
              <strong>{{network.ip_address}}</strong> which is <strong>{{network.type}}</strong>
            </li>
          </ol>
        </div>
      </div>
    </div>
    <div class="col-md-4">
      <dl class="dl-horizontal clearfix">
        <dt><small>Locked</small></dt>
        <dd><small>{{droplet.locked}}</small></dd>
        <dt><small>Status</small></dt>
        <dd><small>{{droplet.status}}</small></dd>
        <dt><small>Snapshots</small></dt>
        <dd><small>{{droplet.snapshot_ids.length}}</small></dd>
        <dt><small>Backups Enabled</small></dt>
        <dd><small>{{droplet.features.indexOf('backups')>-1}}</small></dd>
        <dt ng-if="droplet.backup_ids.length>0"><small>Backups</small></dt>
        <dd ng-if="droplet.backup_ids.length>0"><small>{{droplet.backup_ids.length}}</small></dd>
      </dl>
    </div>
  </div>

  <div class="row">
    <div class="col-md-2">
      <div class="row">
        <div class="col-md-12">
          <form ng-if="!droplet.locked" ng-submit="submitActionForm(actionForm.$valid, droplet)" name="actionForm" method="post" class="form-inline droplet-action" role="form">
              <div class="form-group">
                <select ng-model="droplet.actionType" ng-options="actionOption.name for actionOption in droplet.actionOptions" class="form-control" required style="width: 100%"></select>
                <div ng-if="droplet.actionType.value=='rebuild'">
                  <select class="form-control" ng-model="droplet.image" ng-options="image.name for image in privateImages"></select>
                </div>
                <div ng-if="droplet.actionType.value=='resize'">
                  <select class="form-control" ng-model="droplet.size" ng-options="size.slug for size in sizes"></select>
                </div>
                <div ng-if="droplet.actionType.value=='snapshot'">
                  <input type="text" class="form-control" ng-model="droplet.snapshot_name">
                </div>
              </div>
              <br>
              <button type="submit" class="btn btn-default" ng-confirm-click="Are you sure?" ng-disabled="actionForm.$invalid || actionForm.$pristine" style="width: 100%" ng-click="submitActionForm(actionForm.$valid, droplet)">Submit</button>
          </form>
        </div>
      </div>
      <div class="row">
        <div class="col-md-12">
          <input ng-if="!droplet.locked" class="btn btn-danger" type="button" value="Delete Droplet" ng-confirm-click="Are you sure?" ng-click="deleteVm(droplet.id)" style="width: 100%">
        </div>
      </div>
    </div>
    <div class="col-md-8 col-md-offset-2">
      <div class="row" ng-repeat="action in droplet.actions">
        <div class="col-md-2 col-md-offset-2">{{action.type}}</div>
        <div class="col-md-2">{{action.status}}</div>
        <div class="col-md-3">{{action.started_at}}</div>
        <div class="col-md-3">{{action.completed_at}}</div>
      </div>
    </div>
  </div>
</div>
